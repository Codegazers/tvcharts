(this["webpackJsonptv-ratings-chart-client"]=this["webpackJsonptv-ratings-chart-client"]||[]).push([[0],{105:function(e,t,a){e.exports=a.p+"static/media/ian-ray.019d2cda.webp"},116:function(e,t,a){e.exports=a(207)},123:function(e,t){},125:function(e,t){},158:function(e,t){},159:function(e,t){},206:function(e,t,a){},207:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(37),s=a.n(r),o=a(11),l=a(21),i=a(209),m=a(210),u=a(107),f={home:"Charts of TV Show Ratings for Entire Series",about:"Ian Ray - Developer for Hire",show:"TV Chart for ",search:"Search results for: "},d=function(e,t){var a=e in f?f[e]:"";document.title="".concat(a," ").concat(t," | TV Charts")},h=a(105),p=a.n(h),E=a(61),b=a.n(E);var g=function(){return Object(n.useEffect)((function(){return d("about","")})),c.a.createElement(i.a,{className:"mt-3 d-flex flex-column justify-content-center align-items-center"},c.a.createElement("picture",null,c.a.createElement("source",{srcSet:p.a,type:"image/webp"}),c.a.createElement("source",{srcSet:b.a,type:"image/jpeg"}),c.a.createElement(m.a,{src:b.a,roundedCircle:!0})),c.a.createElement("h1",{className:"text-primary"},"Ian Ray"),c.a.createElement("h4",null,"Developer for hire"),c.a.createElement(u.a,{sm:12,md:10,lg:7,className:"text-left my-3 px-1"},c.a.createElement("p",null,"I built TVCharts as a way of displaying my technical abilities to companies looking to hire a frontend or full stack developer. TVCharts is a simple frontend / backend application using an API and multi-container deployment. It ingests raw data from IMDb datasets into a document store, then allows users to search and display results as charts of episode ratings over the entire run of a TV series."),c.a.createElement("strong",null,"Built With:"),c.a.createElement("ul",null,c.a.createElement("li",null,"React"),c.a.createElement("li",null,"NodeJS"),c.a.createElement("li",null,"MongoDB"),c.a.createElement("li",null,"Nginx"),c.a.createElement("li",null,"Docker")),c.a.createElement("p",null,"I documented the technical specs and my learning experiences in ",c.a.createElement("a",{href:"https://medium.com/@ianthekid/creating-a-web-application-to-display-charts-of-tv-shows-ratings-for-every-episode-9b9d9b393b90"},"this blog post")," for this project."),c.a.createElement("p",null,"Please review the code on ",c.a.createElement("a",{href:"https://github.com/ianthekid/tvcharts"},"GitHub repo")," or email me directly ",c.a.createElement("a",{href:"mailto:ian@ianray.com"},"ian@ianray.com"))))},v=a(7),j=a(211);var w=function(e){var t=Object(n.useState)([]),a=Object(v.a)(t,2),r=a[0],s=a[1],o=Object(n.useState)([]),l=Object(v.a)(o,2),i=l[0],m=l[1];return Object(n.useEffect)((function(){e.seasons.sort((function(e,t){return e.averageRating-t.averageRating})),s(e.seasons.slice(-3).reverse()),m(e.seasons.slice(0,3).reverse())}),[e]),c.a.createElement(u.a,{className:"text-left mt-2 mb-4"},c.a.createElement(j.a,null,c.a.createElement("h6",null,"Best Episodes")),r.length>0&&c.a.createElement(C,{episodes:r}),c.a.createElement(j.a,null,c.a.createElement("h6",{className:"mt-3"},"Worst Episodes")),i.length>0&&c.a.createElement(C,{episodes:i}))},O=a(108);var y=function(e){var t=Object(n.useState)(e.episode),a=Object(v.a)(t,2),r=a[0],s=a[1];Object(n.useEffect)((function(){s(e.episode)}),[e.episode]);var o=function(e,t){e.target.closest(".col-1").style.zIndex=t},l=e.scale<.6?"h4 mb-0":"",i=e.scale<.6?"h6 mb-0":"";return c.a.createElement(u.a,{className:"rating-".concat(Math.floor(r.averageRating)," mb-1 d-flex justify-content-center align-items-center")},c.a.createElement("a",{target:"_blank",rel:"noopener noreferrer","data-tip":!0,"data-for":e.id,href:"https://www.imdb.com/title/".concat(r.tconst,"/"),onMouseOver:function(e){return o(e,2)},onMouseOut:function(e){return o(e,1)}},r.averageRating),c.a.createElement(O.a,{id:e.id,type:"dark"},c.a.createElement("h6",{className:l},r.title),c.a.createElement("em",{className:i},r.numVotes.toLocaleString()," votes")))},N=a(38),x=a.n(N);var S=function(){var e=Object(n.useState)(""),t=Object(v.a)(e,2),a=t[0],r=t[1],s=Object(l.g)();Object(n.useEffect)((function(){r(s.pathname)}),[s.pathname]);var i=c.a.createElement(u.a,{md:1,lg:2,className:"d-none d-sm-none d-md-block"});return"/"!==a&&c.a.createElement(j.a,{className:"bg-light d-flex align-items-center py-2 mb-2"},c.a.createElement(u.a,{xs:2,className:"text-left"},c.a.createElement(o.b,{to:"/",className:"d-flex"},c.a.createElement(m.a,{id:"logo",src:x.a,fluid:!0}),c.a.createElement("h5",{className:"ml-2 d-none d-sm-none d-md-block"},"TV Charts"))),i,c.a.createElement(u.a,{xs:8,md:6,lg:4},c.a.createElement(L,null)),i,c.a.createElement(u.a,{xs:2,className:"text-right pr-0 pr-sm-3"},c.a.createElement(o.b,{to:"/about-ian-ray",className:"small"},"hire me")))};var k=function(){return Object(n.useEffect)((function(){return d("home","")})),c.a.createElement(i.a,{fluid:!0,className:"vh-100 d-flex flex-column justify-content-center align-items-center"},c.a.createElement(m.a,{id:"logo",src:x.a,fluid:!0}),c.a.createElement("h1",{className:"text-primary"},"TV Charts"),c.a.createElement("h6",{className:"mb-3"},"Charts of TV Show Ratings for Entire Series"),c.a.createElement(L,null),c.a.createElement("div",{id:"examples"},c.a.createElement("div",{className:"slides"},[{tconst:"tt3032476",title:"Better Call Saul"},{tconst:"tt0386676",title:"The Office (US)"},{tconst:"tt0944947",title:"Game of Thrones"},{tconst:"tt0472954",title:"It's Always Sunny in Philadelphia"},{tconst:"tt0903747",title:"Breaking Bad"},{tconst:"tt0096697",title:"The Simpsons"}].map((function(e,t){return c.a.createElement("div",{key:t,className:"slide small font-italic"},"example: ",c.a.createElement(o.b,{to:"/show/".concat(e.tconst)},e.title))})))),c.a.createElement("p",{className:"mt-2 text-muted"},"created by ",c.a.createElement(o.b,{to:"/about-ian-ray",className:"text-warning"},"ian ray")))};var C=function(e){var t=Object(n.useState)([]),a=Object(v.a)(t,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){s(e.episodes)}),[e]),c.a.createElement(j.a,null,r.map((function(e,t){return c.a.createElement(u.a,{xs:12,key:t,className:"d-inline-flex flex-columns list-".concat(Math.floor(e.averageRating))},c.a.createElement("div",null,10===(a=e.averageRating)?10:a.toFixed(1)),c.a.createElement("span",{className:"text-left"},c.a.createElement("a",{href:"https://www.imdb.com/title/".concat(e.tconst,"/"),target:"_blank",rel:"noopener noreferrer"},e.title)));var a})))},T=a(212);var R=function(e){var t=Object(n.useState)(""),a=Object(v.a)(t,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){s(e.message)}),[e.message]),c.a.createElement(u.a,{className:"vh-100 d-flex flex-column justify-content-center align-items-center text-primary"},c.a.createElement(T.a,{animation:"grow",variant:"primary"}),c.a.createElement("h2",{className:"mt-2"},r))},I=a(215),A="http://tvcharts.ianray.com/api",V={"Content-Type":"application/json",Accept:"application/json","x-api-key":"CHzAcZ4t"};var W={search:function(e){return fetch("".concat(A,"/search/").concat(encodeURIComponent(e)),{headers:V}).then((function(e){return e.json()})).then((function(e){return e}))},show:function(e){return fetch("".concat(A,"/show/").concat(e),{headers:V}).then((function(e){return e.json()})).then((function(e){return e[0]}))},poster:function(e){return fetch("".concat(A,"/poster/").concat(e),{headers:V}).then((function(e){return e.text()})).then((function(e){return e}))},episodes:function(e){return fetch("".concat(A,"/seasons/").concat(e),{headers:V}).then((function(e){return e.json()})).then((function(e){var t=e.reduce((function(e,t){return e[t.seasonNumber]=e[t.seasonNumber]||[],e[t.seasonNumber].push(t),e[t.seasonNumber].sort((function(e,t){return e.episodeNumber>t.episodeNumber?1:t.episodeNumber>e.episodeNumber?-1:0})),e}),Object.create(null));return{allEpisodes:e,seasons:t}}))}};var B=function(e){var t=Object(n.useState)(""),a=Object(v.a)(t,2),r=a[0],s=a[1],o=Object(n.useState)(!1),l=Object(v.a)(o,2),m=l[0],f=l[1],h=Object(n.useState)([]),p=Object(v.a)(h,2),E=p[0],b=p[1],g=Object(n.useState)(!1),w=Object(v.a)(g,2),O=w[0],y=w[1],N=Object(n.useCallback)((function(e){s(e),f(!1),y(!0),b([]),W.search(e).then((function(t){!1===t.response?f(!0):(f(!1),b(t.results),d("search",e)),y(!1)}))}),[]);return Object(n.useEffect)((function(){N(e.match.params.query)}),[e.match.params.query,N]),c.a.createElement(i.a,null,O&&c.a.createElement(R,{message:"Searching for '".concat(r,"'...")}),(E.length>0||m)&&c.a.createElement(j.a,null,c.a.createElement(u.a,{className:"text-left"},'Search results for "',r,'"')),m&&c.a.createElement(I.a,{variant:"danger"},"No Results Found"),E.length>0&&c.a.createElement(P,{shows:E}))},M=a(214),D=a(213);var L=function(){var e=Object(n.useState)(""),t=Object(v.a)(e,2),a=t[0],r=t[1],s=Object(l.f)();return c.a.createElement(M.a,{onSubmit:function(e){e.preventDefault(),r(""),s.push("/search/".concat(a))}},c.a.createElement(j.a,{className:"d-flex justify-content-center align-items-center"},c.a.createElement(u.a,{xs:10},c.a.createElement(M.a.Group,{controlId:"showTitle",className:"mb-0"},c.a.createElement(M.a.Control,{type:"text",onChange:function(e){r(e.target.value)},value:a,autoComplete:"off",autoCorrect:"off",spellCheck:"off",placeholder:"example: The Office"}))),c.a.createElement(u.a,{xs:2,className:"text-left pl-0"},c.a.createElement(D.a,{type:"submit"},"Go"))))};var Y=function(e){var t=Object(n.useState)(""),a=Object(v.a)(t,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){W.poster(e.tconst).then((function(e){return s(e)}))}),[e.tconst]),c.a.createElement("a",{href:e.link,target:e.target,className:"poster"},c.a.createElement(m.a,{fluid:!0,src:r,className:"p-2"}))};var P=function(e){var t=Object(n.useState)([]),a=Object(v.a)(t,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){s(e.shows)}),[e.shows]),c.a.createElement(j.a,{id:"results"},r.map((function(e,t){return c.a.createElement(u.a,{xs:6,sm:4,md:3,key:t,className:"text-center p-1 my-3"},c.a.createElement(Y,{tconst:e.tconst,target:"_self",link:"/show/".concat(e.tconst)}),c.a.createElement(o.b,{to:"/show/".concat(e.tconst)},c.a.createElement("h5",{className:"mt-1 mb-0"},e.primaryTitle)),c.a.createElement("em",null,e.startYear," - ","\\N"===e.endYear?"":e.endYear))})))};var U={scale:function(e){var t=document.getElementById(e);if(t){var a=t.scrollWidth,n=t.offsetWidth;return a>n?n/a:1}return 1},debounce:function(e){var t;return function(a){t&&clearTimeout(t),t=setTimeout(e,200,a)}}};var _=function(e){var t=Object(n.useState)({}),a=Object(v.a)(t,2),r=a[0],s=a[1],o=Object(n.useState)(!0),l=Object(v.a)(o,2),i=l[0],m=l[1],f=Object(n.useCallback)((function(e){W.episodes(e).then((function(e){s(e.seasons),m(!1),d(e.allEpisodes),h(U.scale("ratings"))}))}),[e.tconst]),d=Object(n.useCallback)((function(t){e.handleAllSeasons(t)}),[]),h=Object(n.useCallback)((function(t){e.handleScale(t)}),[]);return Object(n.useEffect)((function(){f(e.tconst);var t=U.debounce((function(e){var t=U.scale("ratings");h(t)}));return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[e.tconst,h,f]),c.a.createElement(j.a,null,i?c.a.createElement(R,{message:"Loading ".concat(e.episodeCount," episodes...")}):Object.keys(r).map((function(t,a){return c.a.createElement(u.a,{xs:1,key:a,className:"mr-1 p-0"},c.a.createElement("strong",null,t),r[t].map((function(t,a){return c.a.createElement(y,{key:a,episode:t,scale:e.scale,id:"S".concat(t.seasonNumber,"E").concat(t.episodeNumber)})})))})))};var z=function(e){var t=Object(n.useState)({}),a=Object(v.a)(t,2),r=a[0],s=a[1],o=Object(n.useState)([]),l=Object(v.a)(o,2),i=l[0],m=l[1],f=Object(n.useState)(!1),h=Object(v.a)(f,2),p=h[0],E=h[1],b=Object(n.useState)(!0),g=Object(v.a)(b,2),O=g[0],y=g[1],N=Object(n.useState)(1),x=Object(v.a)(N,2),S=x[0],k=x[1],C=Object(n.useCallback)((function(e){W.show(e).then((function(e){e?(E(!1),s(e),y(!1),d("show",e.primaryTitle)):(E(!0),y(!1))}))}),[]);return Object(n.useEffect)((function(){C(e.match.params.tconst)}),[e.match.params.tconst,C]),c.a.createElement("div",{className:"px-1"},p&&c.a.createElement(u.a,{xs:3},c.a.createElement(I.a,{variant:"danger"},"Show Not Found")),O&&c.a.createElement(R,null),!O&&!p&&c.a.createElement(j.a,null,c.a.createElement(u.a,{lg:2,md:3,sm:4},c.a.createElement(G,{show:r}),c.a.createElement(w,{seasons:i})),c.a.createElement(u.a,{lg:10,md:9,sm:8,id:"ratings",style:{transform:"scale(".concat(S)}},c.a.createElement(_,{tconst:r.tconst,episodeCount:r.episodeCount,handleAllSeasons:m,handleScale:k,scale:S}))))};var G=function(e){var t=Object(n.useState)({}),a=Object(v.a)(t,2),r=a[0],s=a[1];return Object(n.useEffect)((function(){s(e.show)}),[e.show]),c.a.createElement(j.a,{className:"text-left"},c.a.createElement(u.a,{xs:6,sm:10},r.tconst&&c.a.createElement(Y,{tconst:r.tconst,target:"_blank",rel:"noopener noreferrer",link:"https://www.imdb.com/title/".concat(r.tconst,"/")})),c.a.createElement(u.a,{xs:12},c.a.createElement("h4",{className:"mb-0"},r.primaryTitle),c.a.createElement("small",null,c.a.createElement("a",{href:"https://www.imdb.com/title/".concat(r.tconst,"/"),target:"_blank",rel:"noopener noreferrer",className:"mr-2"},"IMDb"),r.startYear," - ","\\N"===r.endYear?"":r.endYear)),c.a.createElement(u.a,{xs:12},c.a.createElement("h4",{className:"mt-2"},c.a.createElement("strong",{className:"pr-2"},r.averageRating),c.a.createElement("small",null,"(",r.numVotes&&r.numVotes.toLocaleString(),")"))))};a(206);var q=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(i.a,{fluid:!0},c.a.createElement(o.a,null,c.a.createElement(S,null),c.a.createElement(l.c,null,c.a.createElement(l.a,{exact:!0,path:"/",component:k}),c.a.createElement(l.a,{exact:!0,path:"/about-ian-ray",component:g}),c.a.createElement(l.a,{exact:!0,path:"/search/:query",component:B}),c.a.createElement(l.a,{exact:!0,path:"/show/:tconst",component:z})))))},F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function H(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}s.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(o.a,null,c.a.createElement(q,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");F?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):H(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):H(t,e)}))}}()},38:function(e,t,a){e.exports=a.p+"static/media/logo.a915ee6b.svg"},61:function(e,t,a){e.exports=a.p+"static/media/ian-ray.76de1cd9.jpg"}},[[116,1,2]]]);
//# sourceMappingURL=main.f148e41f.chunk.js.map