(this["webpackJsonptv-ratings-chart-client"]=this["webpackJsonptv-ratings-chart-client"]||[]).push([[0],{104:function(e,t,a){e.exports=a.p+"static/media/ian-ray.5e67dea3.jpg"},115:function(e,t,a){e.exports=a(207)},120:function(e,t,a){},123:function(e,t){},125:function(e,t){},158:function(e,t){},159:function(e,t){},206:function(e,t,a){},207:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(37),o=a.n(r),s=(a(120),a(18)),l=a(21),i=a(209),u=a(210),m=a(106),f=a(104),h=a.n(f);var d=function(){return c.a.createElement(i.a,{className:"mt-3 d-flex flex-column justify-content-center align-items-center"},c.a.createElement(u.a,{id:"ian",src:h.a,roundedCircle:!0}),c.a.createElement("h1",{className:"text-primary"},"About Ian Ray"),c.a.createElement("h4",null,"Developer for hire"),c.a.createElement(m.a,{sm:12,md:10,lg:7,className:"text-left my-3"},c.a.createElement("p",null,"I built TVCharts as a way of displaying my technical abilities for prospective companies looking to hire a frontend or full stack developer. It is a simple frontend/backend application using an API and multi-container setup that injests the raw data from IMDB datasets."),c.a.createElement("strong",null,"Built With:"),c.a.createElement("ul",null,c.a.createElement("li",null,"React"),c.a.createElement("li",null,"NodeJS"),c.a.createElement("li",null,"MongoDB"),c.a.createElement("li",null,"Nginx"),c.a.createElement("li",null,"Docker")),c.a.createElement("p",null,"I documented my process and learning experiences in ",c.a.createElement("a",{href:"#"},"this blog post")," that provides more details on the technical side of this project"),c.a.createElement("p",null,"Please review the code on ",c.a.createElement("a",{href:"#"},"GitHub repo")," or email me directly ",c.a.createElement("a",{href:"mailto:ian@ianray.com"},"ian@ianray.com"))))},E=a(7),p=a(211);var b=function(e){var t=Object(n.useState)([]),a=Object(E.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)([]),l=Object(E.a)(s,2),i=l[0],u=l[1];return Object(n.useEffect)((function(){e.seasons.sort((function(e,t){return e.averageRating-t.averageRating})),o(e.seasons.slice(-3).reverse()),u(e.seasons.slice(0,3).reverse())}),[e]),c.a.createElement(m.a,{className:"text-left mt-2 mb-4"},c.a.createElement(p.a,null,c.a.createElement("h6",null,"Best Episodes")),r.length>0&&c.a.createElement(x,{episodes:r}),c.a.createElement(p.a,null,c.a.createElement("h6",{className:"mt-3"},"Worst Episodes")),i.length>0&&c.a.createElement(x,{episodes:i}))},g=a(107);var v=function(e){var t=Object(n.useState)(e.episode),a=Object(E.a)(t,2),r=a[0],o=a[1];Object(n.useEffect)((function(){o(e.episode)}),[e.episode]);var s=function(e,t){e.target.closest(".col-1").style.zIndex=t},l=e.scale<.6?"h4 mb-0":"",i=e.scale<.6?"h6 mb-0":"";return c.a.createElement(m.a,{className:"rating-".concat(Math.floor(r.averageRating)," mb-1 d-flex justify-content-center align-items-center")},c.a.createElement("a",{target:"_blank",rel:"noopener noreferrer","data-tip":!0,"data-for":e.id,href:"https://www.imdb.com/title/".concat(r.tconst,"/"),onMouseOver:function(e){return s(e,2)},onMouseOut:function(e){return s(e,1)}},r.averageRating),c.a.createElement(g.a,{id:e.id,type:"dark"},c.a.createElement("h6",{className:l},r.title),c.a.createElement("em",{className:i},r.numVotes.toLocaleString()," votes")))},j=a(38),O=a.n(j);var w=function(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],r=t[1],o=Object(l.g)();Object(n.useEffect)((function(){r(o.pathname)}),[o.pathname]);var i=c.a.createElement(m.a,{md:1,lg:2,className:"d-none d-sm-none d-md-block"});return"/"!==a&&c.a.createElement(p.a,{className:"bg-light d-flex align-items-center py-2 mb-2"},c.a.createElement(m.a,{xs:2,className:"text-left"},c.a.createElement(s.b,{to:"/",className:"d-flex"},c.a.createElement(u.a,{id:"logo",src:O.a,fluid:!0}),c.a.createElement("h5",{className:"ml-2 d-none d-sm-none d-md-block"},"TV Charts"))),i,c.a.createElement(m.a,{xs:8,md:6,lg:4},c.a.createElement(M,null)),i,c.a.createElement(m.a,{xs:2,className:"text-right"},c.a.createElement(s.b,{to:"/about-ian-ray"},"hire me")))};var N=function(){return c.a.createElement(i.a,{fluid:!0,className:"vh-100 d-flex flex-column justify-content-center align-items-center"},c.a.createElement(u.a,{id:"logo",src:O.a,fluid:!0}),c.a.createElement("h1",{className:"text-primary"},"TV Charts"),c.a.createElement("h6",null,"Charts of TV shows ratings for an entire series"),c.a.createElement(M,null))};var x=function(e){var t=Object(n.useState)([]),a=Object(E.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)((function(){o(e.episodes)}),[e]),c.a.createElement(p.a,null,r.map((function(e,t){return c.a.createElement(m.a,{xs:12,key:t,className:"d-inline-flex flex-columns list-".concat(Math.floor(e.averageRating))},c.a.createElement("div",null,e.averageRating.toFixed(1)),c.a.createElement("span",{className:"text-left"},c.a.createElement("a",{href:"https://www.imdb.com/title/".concat(e.tconst,"/"),target:"_blank",rel:"noopener noreferrer"},e.title)))})))},y=a(212);var S=function(e){var t=Object(n.useState)(""),a=Object(E.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)((function(){o(e.message)}),[e.message]),c.a.createElement(m.a,{className:"vh-100 d-flex flex-column justify-content-center align-items-center text-primary"},c.a.createElement(y.a,{animation:"grow",variant:"primary"}),c.a.createElement("h2",{className:"mt-2"},r))},k=a(215),C="http://tvcharts.ianray.com/api";var T={search:function(e){return fetch("".concat(C,"/search/").concat(encodeURIComponent(e))).then((function(e){return e.json()})).then((function(e){return e}))},show:function(e){return fetch("".concat(C,"/show/").concat(e)).then((function(e){return e.json()})).then((function(e){return e[0]}))},poster:function(e){return fetch("".concat(C,"/poster/").concat(e)).then((function(e){return e.text()})).then((function(e){return e}))},episodes:function(e){return fetch("".concat(C,"/seasons/").concat(e)).then((function(e){return e.json()})).then((function(e){var t=e.reduce((function(e,t){return e[t.seasonNumber]=e[t.seasonNumber]||[],e[t.seasonNumber].push(t),e[t.seasonNumber].sort((function(e,t){return e.episodeNumber>t.episodeNumber?1:t.episodeNumber>e.episodeNumber?-1:0})),e}),Object.create(null));return{allEpisodes:e,seasons:t}}))}},R={home:"TV Charts for Shows Over All Time",show:"TV Chart for ",search:"Search results for: "},I=function(e,t){var a=e in R?R[e]:"";document.title="".concat(a," ").concat(t," | TV Charts")};var W=function(e){var t=Object(n.useState)(""),a=Object(E.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(!1),l=Object(E.a)(s,2),u=l[0],f=l[1],h=Object(n.useState)([]),d=Object(E.a)(h,2),b=d[0],g=d[1],v=Object(n.useState)(!1),j=Object(E.a)(v,2),O=j[0],w=j[1],N=Object(n.useCallback)((function(e){o(e),f(!1),w(!0),g([]),T.search(e).then((function(t){!1===t.response?f(!0):(f(!1),g(t.results),I("search",e)),w(!1)}))}),[]);return Object(n.useEffect)((function(){N(e.match.params.query)}),[e.match.params.query,N]),c.a.createElement(i.a,null,O&&c.a.createElement(S,{message:"Searching for '".concat(r,"'...")}),(b.length>0||u)&&c.a.createElement(p.a,null,c.a.createElement(m.a,{className:"text-left"},'Search results for "',r,'"')),u&&c.a.createElement(k.a,{variant:"danger"},"No Results Found"),b.length>0&&c.a.createElement(L,{shows:b}))},A=a(214),V=a(213);var M=function(){var e=Object(n.useState)(""),t=Object(E.a)(e,2),a=t[0],r=t[1],o=Object(l.f)();return c.a.createElement(A.a,{onSubmit:function(e){e.preventDefault(),r(""),o.push("/search/".concat(a))}},c.a.createElement(p.a,{className:"d-flex justify-content-center align-items-center"},c.a.createElement(m.a,{xs:10},c.a.createElement(A.a.Group,{controlId:"showTitle",className:"mb-0"},c.a.createElement(A.a.Control,{type:"text",onChange:function(e){r(e.target.value)},value:a,autoComplete:"off",autoCorrect:"off",spellCheck:"off",placeholder:"example: The Office"}))),c.a.createElement(m.a,{xs:2,className:"text-left pl-0"},c.a.createElement(V.a,{type:"submit"},"Go"))))};var B=function(e){var t=Object(n.useState)(""),a=Object(E.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)((function(){T.poster(e.tconst).then((function(e){return o(e)}))}),[e.tconst]),c.a.createElement("a",{href:e.link,target:e.target},c.a.createElement(u.a,{fluid:!0,src:r,className:"p-2"}))};var L=function(e){var t=Object(n.useState)([]),a=Object(E.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)((function(){o(e.shows)}),[e.shows]),c.a.createElement(p.a,null,r.map((function(e,t){return c.a.createElement(m.a,{xs:6,sm:4,md:3,lg:2,key:t,className:"text-center p-3"},c.a.createElement(B,{tconst:e.tconst,target:"_self",link:"/show/".concat(e.tconst)}),c.a.createElement(s.b,{to:"/show/".concat(e.tconst)},c.a.createElement("h5",{className:"mt-2 mb-0"},e.primaryTitle)),c.a.createElement("em",null,e.startYear," - ","\\N"===e.endYear?"":e.endYear))})))};var D={scale:function(e){var t=document.getElementById(e);if(t){var a=t.scrollWidth,n=t.offsetWidth;return a>n?n/a:1}return 1},debounce:function(e){var t;return function(a){t&&clearTimeout(t),t=setTimeout(e,200,a)}}};var Y=function(e){var t=Object(n.useState)({}),a=Object(E.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)(!0),l=Object(E.a)(s,2),i=l[0],u=l[1],f=Object(n.useCallback)((function(e){T.episodes(e).then((function(e){o(e.seasons),u(!1),h(e.allEpisodes),d(D.scale("ratings"))}))}),[e.tconst]),h=Object(n.useCallback)((function(t){e.handleAllSeasons(t)}),[]),d=Object(n.useCallback)((function(t){e.handleScale(t)}),[]);return Object(n.useEffect)((function(){f(e.tconst);var t=D.debounce((function(e){var t=D.scale("ratings");d(t)}));return window.addEventListener("resize",t),function(){return window.removeEventListener("resize",t)}}),[e.tconst,d,f]),c.a.createElement(p.a,null,i?c.a.createElement(S,{message:"Loading ".concat(e.episodeCount," episodes...")}):Object.keys(r).map((function(t,a){return c.a.createElement(m.a,{xs:1,key:a,className:"mr-1 p-0"},c.a.createElement("strong",null,t),r[t].map((function(t,a){return c.a.createElement(v,{key:a,episode:t,scale:e.scale,id:"S".concat(t.seasonNumber,"E").concat(t.episodeNumber)})})))})))};var _=function(e){var t=Object(n.useState)({}),a=Object(E.a)(t,2),r=a[0],o=a[1],s=Object(n.useState)([]),l=Object(E.a)(s,2),i=l[0],u=l[1],f=Object(n.useState)(!1),h=Object(E.a)(f,2),d=h[0],g=h[1],v=Object(n.useState)(!0),j=Object(E.a)(v,2),O=j[0],w=j[1],N=Object(n.useState)(1),x=Object(E.a)(N,2),y=x[0],C=x[1],R=Object(n.useCallback)((function(e){T.show(e).then((function(e){e?(g(!1),o(e),w(!1),I("show",e.primaryTitle)):(g(!0),w(!1))}))}),[]);return Object(n.useEffect)((function(){R(e.match.params.tconst)}),[e.match.params.tconst,R]),c.a.createElement("div",{className:"px-1"},d&&c.a.createElement(m.a,{xs:3},c.a.createElement(k.a,{variant:"danger"},"Show Not Found")),O&&c.a.createElement(S,null),!O&&!d&&c.a.createElement(p.a,null,c.a.createElement(m.a,{lg:2,md:3,sm:4},c.a.createElement(P,{show:r}),c.a.createElement(b,{seasons:i})),c.a.createElement(m.a,{lg:10,md:9,sm:8,id:"ratings",style:{transform:"scale(".concat(y)}},c.a.createElement(Y,{tconst:r.tconst,episodeCount:r.episodeCount,handleAllSeasons:u,handleScale:C,scale:y}))))};var P=function(e){var t=Object(n.useState)({}),a=Object(E.a)(t,2),r=a[0],o=a[1];return Object(n.useEffect)((function(){o(e.show)}),[e.show]),c.a.createElement(p.a,{className:"text-left"},c.a.createElement(m.a,{xs:6,sm:10},r.tconst&&c.a.createElement(B,{tconst:r.tconst,target:"_blank",rel:"noopener noreferrer",link:"https://www.imdb.com/title/".concat(r.tconst,"/")})),c.a.createElement(m.a,{xs:12},c.a.createElement("h4",{className:"mb-0"},r.primaryTitle),c.a.createElement("small",null,c.a.createElement("a",{href:"https://www.imdb.com/title/".concat(r.tconst,"/"),target:"_blank",rel:"noopener noreferrer",className:"mr-2"},"IMDb"),r.startYear," - ","\\N"===r.endYear?"":r.endYear)),c.a.createElement(m.a,{xs:12},c.a.createElement("h4",{className:"mt-2"},c.a.createElement("strong",{className:"pr-2"},r.averageRating),c.a.createElement("small",null,"(",r.numVotes&&r.numVotes.toLocaleString(),")"))))};a(206);var U=function(){return c.a.createElement("div",{className:"App"},c.a.createElement(i.a,{fluid:!0},c.a.createElement(s.a,null,c.a.createElement(w,null),c.a.createElement(l.c,null,c.a.createElement(l.a,{exact:!0,path:"/",component:N}),c.a.createElement(l.a,{exact:!0,path:"/about-ian-ray",component:d}),c.a.createElement(l.a,{exact:!0,path:"/search/:query",component:W}),c.a.createElement(l.a,{exact:!0,path:"/show/:tconst",component:_})))))},q=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function z(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}o.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(s.a,null,c.a.createElement(U,null))),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");q?(!function(e,t){fetch(e,{headers:{"Service-Worker":"script"}}).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):z(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):z(t,e)}))}}()},38:function(e,t,a){e.exports=a.p+"static/media/logo.a915ee6b.svg"}},[[115,1,2]]]);
//# sourceMappingURL=main.efc09fca.chunk.js.map